namespace: Automation

view:
  content:
    tabs:
      vertical: false

    containers:
      - id: schedulesCatalogue
        title: Automation
        dataSourceRef: schedules
        fetchData: true
        table: $import('table/schedules.yaml')

      - id: scheduleEditor
        title: Editor
        dataSourceRef: schedules
        tabs:
          vertical: false
        containers: $import('form.yaml')

      - id: scheduleRuns
        title: Runs
        dataSourceRef: runs
        fetchData: true
        table: $import('table/runs.yaml')

dataSource:
  schedules: $import('datasource/schedules.yaml')
  runs:      $import('datasource/runs.yaml')
  agentsLov: $import('../agent/datasource/agents.yaml')
  modelsLov: $import('../model/datasource/models.yaml')

dialogs:
  - id: agentLov
    title: Select Agent
    dataSourceRef: agentsLov
    on:
      - event: onOpen
        handler: schedule.applyLookupFilter
    content:
      fetchData: true
      table:
        columns:
          - id: name
            name: Agent Name

  - id: modelLov
    title: Select Model
    dataSourceRef: modelsLov
    content:
      fetchData: true
      table:
        columns:
          - id: id
            name: Model ID
          - id: options.provider
            name: Provider
